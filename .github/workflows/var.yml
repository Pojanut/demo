name: Retrieve GitHub Variables

on:
  push:
    branches:
      - main
  workflow_dispatch:

jobs:
  retrieve-vars:
    runs-on: windows-2019

    steps:
      - name: Check out repository
        uses: actions/checkout@v2

      - name: Display GitHub Variables
        shell: pwsh
        run: |
          Write-Output "Displaying GitHub Variables"
          $envVars = @(
            "NING1",
            "NING2",
            "NING3"
          )
          
          foreach ($envVar in $envVars) {
            $value = ${env:$envVar}
            Write-Output "$envVar: $($value)"
          }

        env:
          MY_VARIABLE1: ${{ secrets.NING1 }}
          MY_VARIABLE2: ${{ secrets.NING2 }}
          MY_VARIABLE3: ${{ secrets.NING3 }}